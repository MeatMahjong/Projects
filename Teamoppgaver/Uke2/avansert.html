<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilde lotto</title>
    <style>
        #board{
            display: grid;
            grid-template-columns: repeat(4, 200px);
            grid-template-rows: repeat(4, 200px);
        }

        #board > div{
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid gray;
            background-color: darkgray;
        }
        img{
            width: 100%;
        }
    </style>
</head>
<body>
    <link rel="preload" as="image" href="img/dog.jpg" />
    <link rel="preload" as="image" href="img/frog.jpg" />
    <link rel="preload" as="image" href="img/tiger.jpg" />
    <link rel="preload" as="image" href="img/horse.jpg" />
    <link rel="preload" as="image" href="img/elephant.jpg" />
    <link rel="preload" as="image" href="img/chicken.jpg" />
    <link rel="preload" as="image" href="img/spider.jpg" />
    <link rel="preload" as="image" href="img/cat.jpg" />
    
    <div id="board">
        <div onclick="pick_image(0)"></div>
        <div onclick="pick_image(1)"></div>
        <div onclick="pick_image(2)"></div>
        <div onclick="pick_image(3)"></div>
        <div onclick="pick_image(4)"></div>
        <div onclick="pick_image(5)"></div>
        <div onclick="pick_image(6)"></div>
        <div onclick="pick_image(7)"></div>
        <div onclick="pick_image(8)"></div>
        <div onclick="pick_image(9)"></div>
        <div onclick="pick_image(10)"></div>
        <div onclick="pick_image(11)"></div>
        <div onclick="pick_image(12)"></div>
        <div onclick="pick_image(13)"></div>
        <div onclick="pick_image(14)"></div>
        <div onclick="pick_image(15)"></div>
    </div>
    <script>
        let grid = [
            "dog.jpg", "frog.jpg", "horse.jpg", "chicken.jpg"
            ,"spider.jpg", "frog.jpg","spider.jpg", "tiger.jpg"
            ,"chicken.jpg", "dog.jpg", "elephant.jpg", "cat.gif"
            ,"cat.gif", "elephant.jpg", "horse.jpg", "tiger.jpg"
        ]
        grid.sort((a,b) => Math.random() - 0.5)
        
        let pictures = Array.prototype.slice.call(document.getElementById("board").children)
        let picked_animal = -1

        function pick_image(index) {
            if(picked_animal == -1) {
                picked_animal = index
                pictures[index].innerHTML = /*html*/`<img src="img/${grid[index]}"/>`
            } else if(grid[picked_animal] == grid[index] && index != picked_animal) {
                picked_animal = -1
                pictures[index].innerHTML = /*html*/`<img src="img/${grid[index]}"/>`
            } else if(picked_animal != index){
                picked_animal = -1
                reset();
            }
        }

        function reset(){
            pictures.forEach((e, index) => {
                e.innerHTML = /*html*/``
            })

        }
    </script>
</body>
</html>